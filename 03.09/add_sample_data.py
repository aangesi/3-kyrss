import sqlite3

# Подключаемся к базе данных (в этот раз она уже существует)
conn = sqlite3.connect("online_library.db")
cursor = conn.cursor()

# Вставляем жанры
genres = [
    ("Фантастика",),
    ("Драма",),
    ("Приключения",),
    ("Ужасы",),
    ("Романтика",),
    ("Детектив",),
    ("Фэнтези",),
    ("Научная литература",)
]

cursor.executemany("INSERT OR IGNORE INTO Genres (name) VALUES (?)", genres)

# Вставляем авторов
authors = [
    ("Джордж Оруэлл", 1903),
    ("Дж. К. Роулинг", 1965),
    ("Стивен Кинг", 1947),
    ("Фёдор Достоевский", 1821),
    ("Лев Толстой", 1828),
    ("Агата Кристи", 1890),
    ("Жюль Верн", 1828),
    ("Айзек Азимов", 1920),
    ("Александр Дюма", 1802),
    ("Артур Конан Дойл", 1859),
    ("Гомер", -800),
    ("Эрих Мария Ремарк", 1898),
    ("Михаил Булгаков", 1891),
    ("Даниэль Дефо", 1660),
    ("Джон Толкин", 1892)
]

cursor.executemany("INSERT OR IGNORE INTO Authors (full_name, birth_year) VALUES (?, ?)", authors)

# Вставляем книги
books = [
    ("1984", 1949, 1, 1),  
    ("Гарри Поттер и философский камень", 1997, 2, 7),
    ("Сияние", 1977, 3, 4),  
    ("Преступление и наказание", 1866, 4, 2),  
    ("Война и мир", 1869, 5, 2),  
    ("Убийство в «Восточном экспрессе»", 1934, 6, 6),
    ("20 000 лье под водой", 1870, 7, 3),
    ("Основание", 1951, 8, 1),
    ("Три мушкетёра", 1844, 9, 3),
    ("Шерлок Холмс: Этюд в багровых тонах", 1887, 10, 6),
    ("Одиссея", -700, 11, 3),
    ("Триумфальная арка", 1945, 12, 2),
    ("Мастер и Маргарита", 1966, 13, 5),
    ("Робинзон Крузо", 1719, 14, 3),
    ("Властелин колец", 1954, 15, 7)
]

cursor.executemany("""
INSERT INTO Books (title, publish_year, author_id, genre_id)
VALUES (?, ?, ?, ?)
""", books)

# Сохраняем изменения и закрываем соединение
conn.commit()
conn.close()

print("Данные о книгах, авторах и жанрах успешно добавлены.")